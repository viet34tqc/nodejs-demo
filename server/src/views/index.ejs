<%- include ('header') %>

<h2>List users Table</h2>

<table class="w3-table-all w3-hoverable">
	<thead>
		<tr class="w3-light-grey">
			<th>ID</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Actions</th>
		</tr>
	</thead>
	<tbody>
		<% for(let i=0; i < userData.length; i++) { %>
		<tr>
			<td><%= userData[i].id %></td>
			<td><%= userData[i].firstName %></td>
			<td><%= userData[i].lastName %></td>
			<td style="display: flex; gap: 15px">
				<form>
					<a
						class="btn-detail"
						href="/detail/user/<%= userData[i].id %>"
						target="_blank"
						>Detail</a
					>
				</form>
				<form action="/edit-user/<%= userData[i].id %>" method="GET">
					<button type="submit">Edit</button>
				</form>
				<form action="/delete-user" method="POST">
					<input
						type="text"
						hidden
						value="<%= userData[i].id %>"
						name="userId"
					/>
					<button type="submit">Delete</button>
				</form>
			</td>
		</tr>
		<% } %>
	</tbody>
</table>
<div class="create-user-container">
	<form action="/create-new-user" method="POST">
		<div><b>Create a new user:</b></div>
		<div>
			<label>First Name:</label>
			<input type="text" name="firstName" />
		</div>
		<div>
			<label>Last Name:</label>
			<input type="text" name="lastName" />
		</div>
		<div>
			<label>Email:</label>
			<input type="email" name="email" />
		</div>
		<div>
			<label>Address:</label>
			<input type="text" name="address" />
		</div>
		<div>
			<button type="submit" class="btn-submit">Submit</button>
		</div>
	</form>
</div>
<%- include ('footer') %>
